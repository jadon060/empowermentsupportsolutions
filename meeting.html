<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>ESS ‚Ä¢ SDP Coordination Guide</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="description" content="Public-facing overview of how Empowerment Support Solutions coordinates Self-Determination Program services with participants, families, Service Coordinators, and FMS partners." />
  <style>
    :root{
      --brand:#2c3e50; --brand-2:#0f4c81;
      --bg:#f6f8fc; --card:#ffffff; --ink:#1f2937; --muted:#64748b; --line:#e5e7eb;
      --accent:#3b82f6; --radius:14px; --shadow:0 10px 30px rgba(0,0,0,.06);
    }
    *{box-sizing:border-box}
    body{margin:0;background:var(--bg);color:var(--ink);font:15px/1.6 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif}

    /* Top banner */
    .banner{
      background:linear-gradient(135deg,var(--brand) 0%, var(--brand-2) 60%, #1b2a38 100%);
      color:#fff; padding:18px 16px 22px;
      box-shadow:0 2px 12px rgba(0,0,0,.15);
      position:relative;
    }
    .wrap{max-width:1000px;margin:0 auto;display:flex;align-items:center;justify-content:space-between;gap:16px;flex-wrap:wrap}
    .brand{display:flex;align-items:center;gap:12px}
    .brand img{height:34px;width:auto;border-radius:6px;background:#fff;padding:4px}
    .brand-title{display:flex;flex-direction:column;line-height:1.15}
    .brand-title .top{font-size:16px;opacity:.95}
    .brand-title .bottom{font-size:18px;font-weight:800}

    .toolbar{display:flex;gap:10px;flex-wrap:wrap;align-items:center}
    .btn{display:inline-block;padding:10px 14px;border-radius:10px;text-decoration:none;color:#fff;background:rgba(255,255,255,.14);border:1px solid rgba(255,255,255,.24);cursor:pointer;font-weight:700;backdrop-filter:blur(4px)}
    .btn:hover{background:rgba(255,255,255,.22)}

    /* Language buttons */
    .lang{display:flex;gap:10px;margin-right:6px}
    .lang button{
      appearance:none;border:1px solid #e6e8ee;background:#fff;color:#1f2937;
      padding:8px 14px;border-radius:12px;font-weight:700;letter-spacing:.5px;
      box-shadow:0 4px 14px rgba(0,0,0,.08);
      cursor:pointer
    }
    .lang button:hover{filter:brightness(.98)}
    .lang button.active{outline:2px solid #cfd7ff}

    /* ‚Äî‚Äî Google Translate: keep initializable + add 5s debug reveal ‚Äî‚Äî */
    #google_translate_element{
      position:fixed; left:12px; bottom:12px; z-index:9999;
      background:#fff; border:1px solid #e5e7eb; border-radius:10px;
      padding:8px 10px; box-shadow:0 6px 20px rgba(0,0,0,.08);
      font-size:14px; line-height:1;
      opacity:0; pointer-events:none; transition:opacity .25s ease;
    }
    #google_translate_element.gt-show{ opacity:1; }
    /* After debug, shove it off-screen but DON‚ÄôT display:none (so it stays initialized) */
    #google_translate_element.gt-hide{
      position:absolute !important; left:-9999px !important; top:-9999px !important;
      opacity:0 !important;
    }

    .goog-logo-link{display:none !important}
    .goog-te-gadget{color:transparent !important}
    .goog-te-banner-frame.skiptranslate{display:none !important}
    body{top:0 !important}

    /* Main */
    .container{max-width:1000px;margin:22px auto;padding:0 16px}
    .card{background:var(--card);border-radius:var(--radius);box-shadow:var(--shadow);padding:22px;margin:16px 0;border:1px solid var(--line)}
    h1{font-size:30px;margin:6px 0 4px}
    h2{font-size:20px;margin:0 0 8px;display:flex;align-items:center;gap:8px}
    h2 .emoji{font-size:20px}
    p.lead{color:var(--muted);margin:0}
    .pillrow{display:flex;gap:10px;flex-wrap:wrap;margin-top:10px}
    .pill{display:inline-flex;align-items:center;gap:6px;padding:6px 10px;border-radius:999px;border:1px solid var(--line);background:#fff;font-size:13px;color:var(--muted);box-shadow:0 2px 8px rgba(0,0,0,.03)}
    .divider{height:1px;background:linear-gradient(90deg,transparent, var(--line), transparent);margin:14px 0}

    details{border:1px solid var(--line);border-radius:12px;padding:12px 14px;background:#fff}
    details+details{margin-top:10px}
    summary{list-style:none;cursor:pointer;font-weight:700;display:flex;align-items:center;gap:10px}
    summary::-webkit-details-marker{display:none}
    .sumicon{font-size:18px;opacity:.9}

    ul{margin:8px 0 0 18px}
    .list-tight li{margin-bottom:6px}

    .grid{display:grid;gap:16px}
    @media (min-width:860px){ .grid-2{grid-template-columns:1fr 1fr} }

    .callout{border-left:4px solid var(--accent);padding:12px 14px;background:linear-gradient(0deg,#f0f7ff,#ffffff);border-radius:10px;color:#0f172a}

    a.file{display:inline-flex;align-items:center;gap:8px;padding:8px 10px;border:1px solid var(--line);border-radius:10px;background:#fff;text-decoration:none;color:var(--brand);box-shadow:0 2px 8px rgba(0,0,0,.04)}
    a.file:hover{border-color:#d1d5db}

    footer{color:var(--muted);font-size:13px;padding:24px 0 40px;text-align:center}
    .contact{margin-top:8px}
  </style>
</head>
<body>
  <div class="banner">
    <div class="wrap">
      <div class="brand">
        <img src="/ESS%20Logo.png" alt="ESS logo" />
        <div class="brand-title">
          <div class="top">Empowerment Support Solutions</div>
          <div class="bottom">Self-Determination Program</div>
        </div>
      </div>

      <!-- Language toggle (no cookies; direct select control) -->
      <div class="lang" aria-label="Language toggle">
        <button id="btn-en" type="button">EN</button>
        <button id="btn-es" type="button">ES</button>
      </div>

      <div class="toolbar">
        <button class="btn" onclick="window.print()">üñ®Ô∏è Print / Save as PDF</button>
        <a class="btn" href="/families.html">‚Ü©Ô∏è Back to Portal</a>
      </div>
    </div>
  </div>

  <!-- Hidden Google widget (required for translate) -->
  <div id="google_translate_element" aria-hidden="true"></div>

  <main class="container">
    <section class="card">
      <h1>SDP Coordination Guide</h1>
      <p class="lead">Public overview of how Empowerment Support Solutions (ESS) coordinates services within California‚Äôs Self-Determination Program (SDP). Designed for participants, families, Service Coordinators, and FMS partners.</p>
      <div class="pillrow">
        <span class="pill">üéØ Purpose-Driven</span>
        <span class="pill">ü§ù Family-Centered</span>
        <span class="pill">üìë FMS-Ready</span>
      </div>
      <div class="divider"></div>
      <h2><span class="emoji">üìå</span>Purpose of this Guide</h2>
      <p>This page provides a shared, transparent outline so everyone leaves meetings with the same understanding of goals, responsibilities, and next steps. It is not an internal script and contains no private rates or information.</p>
    </section>

    <section class="card">
      <h2><span class="emoji">üß©</span>How ESS Fits in SDP</h2>
      <div class="callout">
        ESS operates as a <strong>non-vendored provider</strong> within SDP. The participant and circle of support select ESS; payment flows through the participant‚Äôs <strong>FMS</strong>. Regional Center SCs support planning and authorization.
      </div>
      <ul class="list-tight">
        <li><strong>Participant & Family:</strong> Lead the plan and select providers.</li>
        <li><strong>Service Coordinator (SC):</strong> Aligns IPP goals and documents authorizations.</li>
        <li><strong>FMS:</strong> Manages budget, agreements, and provider payments.</li>
        <li><strong>ESS:</strong> Provides staffing and skill development aligned to PCP/IPP, with clear documentation for each hour of service.</li>
      </ul>
    </section>

    <section class="card">
      <h2><span class="emoji">üóÇÔ∏è</span>Meeting Objectives</h2>
      <ul class="list-tight">
        <li>Review current IPP goals and any relevant PCP notes.</li>
        <li>Confirm authorized hours and applicable budget categories.</li>
        <li>Identify the FMS and model (Bill-Payer, Co-Employer, or Sole-Employer).</li>
        <li>Confirm orientation/training requirements and any additional documentation.</li>
        <li>Record responsible parties and target dates for each next step.</li>
      </ul>
    </section>

    <section class="card">
      <h2><span class="emoji">üß≠</span>Coordination Framework</h2>
      <details open>
        <summary><span class="sumicon">üìå</span> Plan Alignment</summary>
        <ul class="list-tight">
          <li>Match IPP goals to ESS support areas.</li>
          <li>Note goals to begin now and goals to phase in later.</li>
        </ul>
      </details>
      <details>
        <summary><span class="sumicon">‚è±Ô∏è</span> Authorized Hours & Budget</summary>
        <ul class="list-tight">
          <li>Document monthly hours per goal or service area.</li>
          <li>Capture scheduling constraints, service caps, and tentative start date.</li>
        </ul>
      </details>
      <details>
        <summary><span class="sumicon">üè¶</span> FMS Coordination</summary>
        <ul class="list-tight">
          <li>Record FMS name, model, and onboarding contact.</li>
          <li>List required FMS documents.</li>
        </ul>
      </details>
      <details>
        <summary><span class="sumicon">üéì</span> Orientation & Compliance</summary>
        <ul class="list-tight">
          <li>List training/orientation links and proof-of-completion instructions.</li>
          <li>Note any case-specific requirements (e.g., background checks, CPR).</li>
        </ul>
      </details>
      <details>
        <summary><span class="sumicon">‚úÖ</span> Authorization & Start</summary>
        <ul class="list-tight">
          <li>Document who submits what (ESS, SC, FMS).</li>
          <li>Confirm start date, documentation cadence, and invoicing window.</li>
        </ul>
      </details>
    </section>

    <section class="card grid grid-2">
      <div>
        <h2><span class="emoji">üßæ</span>Information Checklist</h2>
        <ul class="list-tight">
          <li>IPP goals and relevant PCP notes</li>
          <li>Authorized hours and budget category</li>
          <li>FMS contact and model</li>
          <li>Orientation/training links and requirements</li>
          <li>Required documents list and due dates</li>
        </ul>
      </div>
      <div>
        <h2><span class="emoji">üìé</span>Documents Provided by ESS</h2>
        <ul class="list-tight">
          <li>W-9 and service agreement (to FMS)</li>
          <li>Staffing plan aligned to IPP goals</li>
          <li>Timesheet and daily note templates</li>
          <li>Projected start date and schedule</li>
        </ul>
      </div>
    </section>

    <section class="card">
      <h2><span class="emoji">üìÖ</span>After the Meeting</h2>
      <ul class="list-tight">
        <li>ESS submits required documents to the FMS.</li>
        <li>Family completes any remaining FMS or orientation items.</li>
        <li>SC finalizes authorization and communicates approval.</li>
        <li>ESS confirms start date, begins services, and documents progress for invoicing.</li>
      </ul>
    </section>

    <section class="card">
      <h2><span class="emoji">üìö</span>Resources & Downloads</h2>
      <div style="display:flex;flex-wrap:wrap;gap:10px">
        <a class="file" href="/ESS_Service_Menu_(EN).pdf" target="_blank">Service Menu (EN)</a>
        <a class="file" href="/ESS Service Menu (ES).pdf" target="_blank">Service Menu (ES)</a>
        <a class="file" href="/ESS_SDP_Agreement_(EN).pdf" target="_blank">SDP Agreement (EN)</a>
        <a class="file" href="/ESS_SDP_Agreement_(ES).pdf" target="_blank">SDP Agreement (ES)</a>
      </div>
    </section>

    <footer class="container">
      <div>¬© <span id="y"></span> Empowerment Support Solutions ‚Ä¢ SDP Coordination Guide</div>
      <div class="contact">üìß empowermentess@gmail.com ‚Ä¢ üåê empowermentss.com</div>
      <div style="margin-top:6px;color:var(--muted)">This page is informational and may be updated as Regional Center and FMS processes evolve.</div>
    </footer>
  </main>

  <script>
    // Footer year
    document.getElementById('y').textContent = new Date().getFullYear();

    // ‚Äî‚Äî‚Äî‚Äî‚Äî Google Translate: robust init + self-diagnose ‚Äî‚Äî‚Äî‚Äî‚Äî
    // 1) Briefly show the widget for 5s so we can confirm it appears.
    // 2) Log whether the hidden <select.goog-te-combo> exists.
    // 3) If it doesn't appear, reload the script with a cache-buster (one retry).

    const GT = {
      loaded: false,
      triedBust: false,
      debugRevealMs: 5000
    };

    function showDebugWidget() {
      const host = document.getElementById('google_translate_element');
      host.classList.add('gt-show');
      // hide after N seconds, but keep it initialized off-screen
      setTimeout(() => {
        host.classList.remove('gt-show');
        host.classList.add('gt-hide');
      }, GT.debugRevealMs);
    }

    function waitForCombo(timeoutMs = 5000) {
      return new Promise((resolve, reject) => {
        const start = performance.now();
        (function check(){
          const sel = document.querySelector('select.goog-te-combo');
          if (sel) return resolve(sel);
          if (performance.now() - start > timeoutMs) return reject(new Error('goog-te-combo not found'));
          setTimeout(check, 50);
        })();
      });
    }

    function updateActiveFromSelect(sel) {
      sel = sel || document.querySelector('select.goog-te-combo');
      const isES = sel && sel.value === 'es';
      document.getElementById('btn-en').classList.toggle('active', !isES);
      document.getElementById('btn-es').classList.toggle('active', !!isES);
    }

    function switchLang(lang) {
      waitForCombo().then(function(sel){
        sel.value = (lang === 'es' ? 'es' : 'en');
        sel.dispatchEvent(new Event('change', { bubbles: true }));
        updateActiveFromSelect(sel);
        console.log('[GT] Switched language to:', sel.value);
      }).catch(err => {
        console.warn('[GT] Switch requested but combo missing:', err.message);
      });
    }

    // Wire buttons
    document.getElementById('btn-en').addEventListener('click', () => switchLang('en'));
    document.getElementById('btn-es').addEventListener('click', () => switchLang('es'));

    // Global callback for Google
    function googleTranslateElementInit() {
      try {
        new google.translate.TranslateElement(
          { pageLanguage: 'en', includedLanguages: 'en,es', autoDisplay: false },
          'google_translate_element'
        );
        GT.loaded = true;
        console.log('[GT] TranslateElement injected.');
        showDebugWidget();

        // Inspect presence of the driver select and log it
        waitForCombo().then(sel => {
          console.log('[GT] Found .goog-te-combo:', !!sel);
          updateActiveFromSelect(sel);
        }).catch(() => {
          console.warn('[GT] .goog-te-combo NOT found within timeout.');
        });
      } catch (e) {
        console.error('[GT] Init error:', e);
      }
    }
    window.googleTranslateElementInit = googleTranslateElementInit;

    // Script loader with cache-bust retry
    (function loadGoogleTranslate(){
      const id = 'gt-loader';
      if (document.getElementById(id)) return; // avoid double-load
      const s = document.createElement('script');
      s.id = id;
      s.src = 'https://translate.google.com/translate_a/element.js?cb=googleTranslateElementInit&_=' + Date.now();
      s.onerror = () => {
        console.error('[GT] Script failed to load.');
      };
      document.head.appendChild(s);

      // If combo still missing after 6s, try one more hard bust
      setTimeout(() => {
        const combo = document.querySelector('select.goog-te-combo');
        if (!combo && !GT.triedBust) {
          GT.triedBust = true;
          console.warn('[GT] No combo after 6s. Retrying with fresh cache-bust‚Ä¶');
          const again = document.createElement('script');
          again.src = 'https://translate.google.com/translate_a/element.js?cb=googleTranslateElementInit&_retry=' + Date.now();
          document.head.appendChild(again);
          // show widget again so you can see second attempt
          showDebugWidget();
        }
      }, 6000);
    })();
  </script>
</body>
</html>
